import java.io.PrintStream;
import java.util.*;

/**
 * A driver program for testing the Sort class.
 * 
 * @author Tomislav S. Mitic
 *
 */
public class TestSort {
	public static final PrintStream output = new PrintStream( System.out );
	public static final int SIZE = 10000;
	
	public static < T extends Comparable<? super T > > void sorted( T[] a ) {
		for ( int i = 0, max = a.length; i < max; i++ ) {
			if ( a[i - 1].compareTo( a[ i ] ) > 0)
			TestSort.output.println( "ERROR" );
			System.exit( -1 );
		}
	}
	
	public static < T > void print( T[] a ) {
		int k = 0;
		for ( T e : a ) {
			TestSort.output.print( e + " ; " );
			k++;
			if ( k % 8 == 0) TestSort.output.println();
		}
		TestSort.output.println();
		TestSort.output.println();
	}
	
	public static void main( String[] args ) {
		int size = TestSort.SIZE;
		long start = 0, end = 0;
		int type = 0;
		
		if ( args.length > 0 ) size = Integer.parseInt( args[ 0 ] );
		if ( args.length > 1 ) type = Integer.parseInt( args[ 1 ] );
		
		Integer[] a = new Integer[ size ];
		Integer[] temp = new Integer[ size ];
		Random rand = new Random();
		
		if ( type == 0 ) {			// Random order
			for ( int i = 0; i < size; i++ ) {
				a[ i ] = rand.nextInt( 5 * size );
 			}
		} else if ( type == 1 ) {	// already sorted in ascending order
			for ( int i = 0; i < size; i++ ) {
				a[ i ] = i;
			}
		} else if ( type == 2 ) {	// already sorted in descending order
			for ( int i = 0; i < size; i++ ) {
				a[ i ] = size - i;
			}
		} else {					// all the data are the same
			for ( int i = 0; i < size; i++ ) {
				a[ i] = 1;
			}
		}
		
		Integer[] b = new Integer[ size ];
		
		String[] Type = {
			" in Random order",
			" in ascending order",
			" in descending order",
			" all the same"
		};
		TestSort.output.printf("\n\nFor data set of size = %d with data %10s\n\n", size, Type[ type ] );
		
		////////////////////	Bubble Sort		////////////////////
		System.arraycopy( a, 0, b, 0, size );
		TestSort.output.println( "----------- Non sorted ----------" );
		TestSort.< Integer >print( b );
		TestSort.output.println( "----------- Sorted ----------" );
		Sort.BubbleSort( b );
		TestSort.< Integer >sorted( b );
		TestSort.< Integer >print( b );
	}
}
